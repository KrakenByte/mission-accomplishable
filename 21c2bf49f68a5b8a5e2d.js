import"./reset.css";import"./style.css";import{Project}from"./models/project.js";import{Task}from"./models/task.js";import{renderProjectList,renderProject}from"./views/renderer.js";import{InitEventListeners,InitModalEventListeners}from"./controllers/controller.js";import{loadFromStorage,saveToStorage}from"./models/storage.js";const storedProjects=loadFromStorage();if(storedProjects&&storedProjects.length>0&&(storedProjects.forEach(e=>Project.fromJSON(e)),!Project.getActiveProject())){const e=Project.projectMap.values().next().value;e&&Project.setActiveProject(e.id)}const isFirstVisit=!localStorage.getItem("hasVisited");if(isFirstVisit&&0===Project.projectMap.size){const e=new Project("My First Project","A demo project with diverse tasks"),t=Date.now();e.addTask(new Task("Buy groceries","pending",2,new Date(t+864e5))),e.addTask(new Task("Finish report","in-progress",1,new Date(t+2592e5))),e.addTask(new Task("Call plumber","done",3,new Date(t-1728e5))),e.addTask(new Task("Read new book","pending",3)),e.addTask(new Task("Workout","in-progress",2,new Date(t+216e5))),Project.setActiveProject(e.id),localStorage.setItem("hasVisited","true"),saveToStorage()}renderProjectList(),0===Project.projectMap.size?document.querySelector("#content").innerHTML="<h1>No projects yet...</h1>":Project.getActiveProject()?renderProject(Project.getActiveProject()):document.querySelector("#content").innerHTML="<h1>Select a project to see tasks</h1>",InitEventListeners(),InitModalEventListeners();