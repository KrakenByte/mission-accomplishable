(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var d=n[s],c=r.base?d[0]+r.base:d[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var m=t(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)e[m].references++,e[m].updater(p);else{var h=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var d=r(n,o),c=0;c<a.length;c++){var l=t(a[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=d}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},208:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,':root {\n  --bg-color: #e0e0e0;\n  --text-color: #333;\n\n  --panel-bg: #ffffff; /* shared panel bg for sidebar/content */\n  --panel-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);\n  --panel-radius: 1rem;\n\n  --task-bg: #f5f5f5; /* darker task cards (restored) */\n\n  --button-hover: #ececec; /* flat button hover */\n\n  --status-pending-bg: #fff3cd;\n  --status-pending-text: #856404;\n\n  --status-in-progress-bg: #cce5ff;\n  --status-in-progress-text: #004085;\n\n  --status-done-bg: #d4edda;\n  --status-done-text: #155724;\n\n  --priority-high: #dc3545;\n  --priority-medium: #ffc107;\n  --priority-low: #28a745;\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\nbody {\n  font-family: "Roboto", sans-serif;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n  display: grid;\n  grid-template-columns: 240px 1fr;\n  height: 100vh;\n  gap: 2.5rem;\n  padding: 2rem 1rem;\n  box-sizing: border-box;\n}\n\n.sidebar-container {\n  background-color: var(--panel-bg);\n  border-radius: var(--panel-radius);\n  box-shadow: var(--panel-shadow);\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  overflow-y: auto;\n}\n\n.projects-sidebar-section {\n  font-weight: bold;\n}\n\n.new-project-btn {\n  margin: 0 auto;\n  width: max-content;\n  border: rgba(0, 0, 0, 0.25) dashed 1px;\n}\n\n#content {\n  background-color: var(--panel-bg);\n  border-radius: var(--panel-radius);\n  box-shadow: var(--panel-shadow);\n  padding: 1.25rem;\n\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  overflow-y: auto;\n}\n\n.app-title {\n  padding: 0.75rem 1.25rem;\n  margin: 0 auto 1rem;\n  background-color: var(--text-color);\n  color: var(--bg-color);\n  text-align: center;\n  width: max-content;\n  border-radius: 0.75rem;\n  font-size: 1.4rem;\n  font-weight: 500;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);\n}\n\n.project-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.project-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.project-name {\n  margin: 0 0 0.5rem;\n  font-size: 1.5rem;\n  color: var(--text-color);\n}\n\n.project-desc {\n  margin: 0 0 1rem;\n  font-size: 0.95rem;\n  color: #666;\n}\n\n.project-header,\n.add-task-form {\n  flex-shrink: 0;\n}\n\nbutton,\n.sort {\n  border: none;\n  background: none;\n  padding: 0.45rem 0.8rem;\n  cursor: pointer;\n  border-radius: 0.5rem;\n  transition: background-color 0.15s ease;\n  font-size: 0.95rem;\n}\nbutton:hover,\n.sort:hover {\n  background-color: var(--button-hover);\n}\n\n.sort-container {\n  display: flex;\n  gap: 0.75rem;\n}\n\n/* Task list */\n.task-list {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n  overflow-y: auto;\n  padding-right: 0.5rem;\n}\n\n.task-container {\n  padding: 0.6rem 0.75rem;\n  border-radius: 6px;\n  background-color: var(--task-bg);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.95rem;\n}\n.task-title {\n  font-size: 1.05rem;\n  font-weight: 400;\n}\n\n.task-right {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n}\n\n.task-checkbox {\n  align-items: center;\n  width: 2.5rem;\n  height: 2.5rem;\n  border-width: 2px;\n  border-radius: 6px;\n  opacity: 0.7;\n}\n\n.task-due-date {\n  font-size: 1rem;\n  color: #666;\n  margin: 0;\n  cursor: pointer;\n  text-align: right;\n  font-style: italic;\n}\n\n\n/* Add task form */\n.add-task-form {\n  display: flex;\n  justify-content: center;\n  gap: 0.75rem;\n  margin: 1.5rem 0;\n}\n\n.add-task-form input {\n  width: 300px;\n  height: 2rem;\n  padding: 0.5rem;\n}\n\n.add-task-form > * {\n  border-radius: 0.5rem;\n  border-width: 1px;\n  border-style: solid;\n  border-color: #e6e6e6;\n  background: #fff;\n}\n\n.add-task-form select {\n  width: 100px;\n}\n\n/* Status labels */\n.status {\n  font-size: 0.85rem;\n  text-transform: capitalize;\n  padding: 0.2rem 0.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.status:hover {\n  filter: brightness(95%);\n  cursor: pointer;\n}\n\n.status.pending {\n  background-color: var(--status-pending-bg);\n  color: var(--status-pending-text);\n}\n.status.in-progress {\n  background-color: var(--status-in-progress-bg);\n  color: var(--status-in-progress-text);\n}\n.status.done {\n  background-color: var(--status-done-bg);\n  color: var(--status-done-text);\n}\n\n/* Priority borders */\n.high-priority {\n  border-left: 8px solid var(--priority-high);\n}\n.medium-priority {\n  border-left: 8px solid var(--priority-medium);\n}\n.low-priority {\n  border-left: 8px solid var(--priority-low);\n  opacity: 0.95;\n}\n\n/* Sidebar project display */\n.sidebar-project-div {\n  margin-top: 0.4rem;\n  padding: 0.4rem 0.6rem;\n  border-radius: 0.75rem;\n  background-color: var(--task-bg);\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n  cursor: pointer;\n}\n\n.sidebar-project-div:hover {\n  background-color: #f0f0f0; /* slightly lighter */\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n\n.sidebar-project-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0;\n  margin: 0;\n  line-height: 1;\n}\n\n.sidebar-project-title {\n  font-weight: 600;\n  font-size: 0.9rem;\n  color: var(--text-color);\n  margin: 0;\n  line-height: 1;\n}\n\n.remove-project-btn {\n  font-size: 0.9rem;\n  line-height: 1;\n  padding: 0.2rem;\n  height: auto;\n  background: none;\n  border: none;\n  color: var(--priority-high);\n  cursor: pointer;\n  vertical-align: middle;\n  opacity: 0.6;\n}\n\n.remove-project-btn:hover {\n  opacity: 1;\n  background-color: var(--button-hover);\n}\n\n.sidebar-project-desc {\n  margin: 0.5rem 0 0;\n  font-size: 0.78rem;\n  color: #555;\n  line-height: 1.1;\n}\n\n/* Modal overlay */\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.25);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem;\n  box-sizing: border-box;\n}\n\n/* Modal content */\n.modal-content {\n  background-color: var(--panel-bg);\n  border-radius: var(--panel-radius);\n  box-shadow: var(--panel-shadow);\n  width: 100%;\n  max-width: 400px;\n  padding: 1.5rem 2rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n/* Modal title */\n.modal-content h2 {\n  margin: 0 0 0.75rem;\n  font-size: 1.25rem;\n  text-align: center;\n  color: var(--text-color);\n}\n\n/* Form groups */\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-bottom: 1rem;\n}\n\n.form-group label {\n  font-weight: 500;\n  font-size: 0.9rem;\n}\n\n.form-group input {\n  padding: 0.5rem 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid #ccc;\n  font-size: 0.95rem;\n  width: 100%;\n  box-sizing: border-box;\n  transition: border-color 0.15s ease;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: var(--text-color);\n}\n\n/* Buttons */\n.modal-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  margin-top: 1rem;\n}\n\n.modal-buttons button {\n  padding: 0.5rem 1rem;\n  border-radius: 0.5rem;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.15s ease;\n  font-size: 0.95rem;\n}\n\n.modal-buttons .cancel-btn {\n  background-color: #f1f1f1;\n  color: var(--text-color);\n}\n\n.modal-buttons .cancel-btn:hover {\n  background-color: var(--button-hover);\n}\n\n.modal-buttons button[type="submit"] {\n  background-color: var(--text-color);\n  color: var(--panel-bg);\n}\n\n.modal-buttons button[type="submit"]:hover {\n  background-color: #222;\n}\n\n/* No text selection utility */\n.unselectable {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n/* Styles for task edit button and its container */\n.task-left {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  flex: 1;\n  min-width: 0;\n}\n\n.task-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n.edit-task-btn,\n.edit-project-btn {\n  font-size: 1rem;\n  padding: 0.2rem;\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #888;\n  opacity: 0.6;\n  transition: opacity 0.15s ease, background-color 0.15s ease;\n  line-height: 1;\n}\n\n.edit-task-btn:hover,\n.edit-project-btn:hover {\n  opacity: 1;\n  background-color: var(--button-hover);\n}\n\n/* Styles for project controls in sidebar */\n.sidebar-project-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.2rem;\n}\n\n/* Generic select styling for modal */\n.form-group select {\n  padding: 0.5rem 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid #ccc;\n  font-size: 0.95rem;\n  width: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n  transition: border-color 0.15s ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n\n.form-group select:focus {\n  outline: none;\n  border-color: var(--text-color);\n}\n',""]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<n.length;c++){var l=[].concat(n[c]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},430:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}',""]);const s=i},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),o=t.n(r),a=t(825),i=t.n(a),s=t(659),d=t.n(s),c=t(56),l=t.n(c),u=t(540),m=t.n(u),p=t(113),h=t.n(p),f=t(430),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=m(),o()(f.A,g),f.A&&f.A.locals&&f.A.locals;var b=t(208),y={};y.styleTagTransform=h(),y.setAttributes=l(),y.insert=d().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=m(),o()(b.A,y),b.A&&b.A.locals&&b.A.locals;const v={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let x;const w=new Uint8Array(16),k=[];for(let n=0;n<256;++n)k.push((n+256).toString(16).slice(1));const S=function(n,e,t){if(v.randomUUID&&!e&&!n)return v.randomUUID();const r=(n=n||{}).random??n.rng?.()??function(){if(!x){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x=crypto.getRandomValues.bind(crypto)}return x(w)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){if((t=t||0)<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let n=0;n<16;++n)e[t+n]=r[n];return e}return function(n,e=0){return(k[n[e+0]]+k[n[e+1]]+k[n[e+2]]+k[n[e+3]]+"-"+k[n[e+4]]+k[n[e+5]]+"-"+k[n[e+6]]+k[n[e+7]]+"-"+k[n[e+8]]+k[n[e+9]]+"-"+k[n[e+10]]+k[n[e+11]]+k[n[e+12]]+k[n[e+13]]+k[n[e+14]]+k[n[e+15]]).toLowerCase()}(r)};class j{static allowedStatuses=["pending","in-progress","done"];static minPriority=1;static maxPriority=3;constructor(n,e="pending",t=3,r=null){this.id=S(),this.title=n,this.status=j.allowedStatuses.includes(e)?e:"pending",this.priority="number"==typeof t?t:j.minPriority,this.createdAt=new Date,this.updatedAt=new Date,this.dueDate=r instanceof Date?r:null}update({title:n,priority:e,dueDate:t}){void 0!==n&&this.changeTitle(n),void 0!==e&&this.changePriority(parseInt(e,10)),void 0!==t&&(this.dueDate=t?new Date(t):null,this.updateTimestamp())}updateTimestamp(){this.updatedAt=new Date}changeTitle(n){this.title=n,this.updateTimestamp()}changePriority(n){"number"==typeof n&&n>=j.minPriority&&n<=j.maxPriority?(this.priority=n,this.updateTimestamp()):console.error(`Invalid priority: ${n}`)}changeStatus(n){j.allowedStatuses.includes(n)?(this.status=n,this.updateTimestamp()):console.error(`Invalid status: ${n}`)}changeDueDate(n){const e=n instanceof Date?n:new Date(n);isNaN(e)||(this.dueDate=e,this.updateTimestamp())}toJSON(){return{id:this.id,title:this.title,status:this.status,priority:this.priority,createdAt:this.createdAt.toISOString(),updatedAt:this.updatedAt.toISOString(),dueDate:this.dueDate?this.dueDate.toISOString():null}}static fromJSON(n){const e=new j(n.title,n.status,n.priority);return e.id=n.id,e.createdAt=new Date(n.createdAt),e.updatedAt=new Date(n.updatedAt),e.dueDate=n.dueDate?new Date(n.dueDate):null,e}}class M{static projectMap=new Map;static statusOrder={"in-progress":1,pending:2,done:3};static activeProjectId=null;constructor(n,e,t=!0){this.id=S(),this.name=n,this.description=e,this.list=[],t&&M.projectMap.set(this.id,this)}update(n,e){this.name=n,this.description=e}static setActiveProject(n){this.activeProjectId=n}static getActiveProject(){return this.projectMap.get(this.activeProjectId)}addTask(n){this.list.push(n)}removeTask(n){this.list=this.list.filter(e=>e.id!==n)}sortByPriority(n=!1){this.list.sort((e,t)=>n?t.priority-e.priority:e.priority-t.priority)}sortByStatus(){this.list.sort((n,e)=>M.statusOrder[n.status.toLowerCase()]-M.statusOrder[e.status.toLowerCase()])}printTodos(){console.log(this.list.map(n=>({...n})))}getTask(n){return this.list.find(e=>e.id===n)||null}getTaskProperty(n,e){const t=this.getTask(n);return t?t[e]:null}setTaskProperty(n,e,t){const r=this.getTask(n);r&&(r[e]=t)}getTaskStatus(n){return this.getTaskProperty(n,"status")}setTaskStatus(n,e){this.setTaskProperty(n,"status",e)}getTaskPriority(n){return this.getTaskProperty(n,"priority")}setTaskPriority(n,e){this.setTaskProperty(n,"priority",e)}static removeProject(n){M.projectMap.delete(n)}toJSON(){return{id:this.id,name:this.name,description:this.description,list:this.list.map(n=>n.toJSON())}}static fromJSON(n){const e=new M(n.name,n.description,!1);return e.id=n.id,e.list=n.list.map(j.fromJSON),M.projectMap.set(e.id,e),e}}Math.pow(10,8);const D=43200,E=Symbol.for("constructDateFrom");function T(n,e){return"function"==typeof n?n(e):n&&"object"==typeof n&&E in n?n[E](e):n instanceof Date?new n.constructor(e):new Date(e)}const P={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function C(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const A={date:C({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:C({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:C({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function I(n){return(e,t)=>{let r;if("formatting"===(t?.context?String(t.context):"standalone")&&n.formattingValues){const e=n.defaultFormattingWidth||n.defaultWidth,o=t?.width?String(t.width):e;r=n.formattingValues[o]||n.formattingValues[e]}else{const e=n.defaultWidth,o=t?.width?String(t.width):n.defaultWidth;r=n.values[o]||n.values[e]}return r[n.argumentCallback?n.argumentCallback(e):e]}}const L={ordinalNumber:(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:I({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:I({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:n=>n-1}),month:I({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:I({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:I({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function W(n){return(e,t={})=>{const r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(o);if(!a)return null;const i=a[0],s=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(s)?function(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}(s,n=>n.test(i)):function(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}(s,n=>n.test(i));let c;return c=n.valueCallback?n.valueCallback(d):d,c=t.valueCallback?t.valueCallback(c):c,{value:c,rest:e.slice(i.length)}}}const O={ordinalNumber:(F={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:n=>parseInt(n,10)},(n,e={})=>{const t=n.match(F.matchPattern);if(!t)return null;const r=t[0],o=n.match(F.parsePattern);if(!o)return null;let a=F.valueCallback?F.valueCallback(o[0]):o[0];return a=e.valueCallback?e.valueCallback(a):a,{value:a,rest:n.slice(r.length)}}),era:W({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:W({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:n=>n+1}),month:W({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:W({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:W({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var F;const N={code:"en-US",formatDistance:(n,e,t)=>{let r;const o=P[n];return r="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r},formatLong:A,formatRelative:(n,e,t,r)=>z[n],localize:L,match:O,options:{weekStartsOn:0,firstWeekContainsDate:1}};let R={};function q(){return R}function J(n,e){return T(e||n,n)}function U(n){const e=J(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function X(n,...e){const t=T.bind(null,n||e.find(n=>"object"==typeof n));return e.map(t)}function H(n,e){const t=+J(n)-+J(e);return t<0?-1:t>0?1:t}function B(n,e){const t=J(n,e?.in);return+function(n,e){const t=J(n,e?.in);return t.setHours(23,59,59,999),t}(t,e)===+function(n,e){const t=J(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(t,e)}function Y(n,e,t){const[r,o,a]=X(t?.in,n,n,e),i=H(o,a),s=Math.abs(function(n,e,t){const[r,o]=X(t?.in,n,e);return 12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth())}(o,a));if(s<1)return 0;1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-i*s);let d=H(o,a)===-i;B(r)&&1===s&&1===H(r,a)&&(d=!1);const c=i*(s-+d);return 0===c?0:c}function V(n,e,t){const r=function(n,e){return+J(n)-+J(e)}(n,e)/1e3;return(o=t?.roundingMethod,n=>{const e=(o?Math[o]:Math.trunc)(n);return 0===e?0:e})(r);var o}function $(n,e){return function(n,e,t){const r=q(),o=t?.locale??r.locale??N,a=H(n,e);if(isNaN(a))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a}),[s,d]=X(t?.in,...a>0?[e,n]:[n,e]),c=V(d,s),l=(U(d)-U(s))/1e3,u=Math.round((c-l)/60);let m;if(u<2)return t?.includeSeconds?c<5?o.formatDistance("lessThanXSeconds",5,i):c<10?o.formatDistance("lessThanXSeconds",10,i):c<20?o.formatDistance("lessThanXSeconds",20,i):c<40?o.formatDistance("halfAMinute",0,i):c<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):0===u?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",u,i);if(u<45)return o.formatDistance("xMinutes",u,i);if(u<90)return o.formatDistance("aboutXHours",1,i);if(u<1440){const n=Math.round(u/60);return o.formatDistance("aboutXHours",n,i)}if(u<2520)return o.formatDistance("xDays",1,i);if(u<D){const n=Math.round(u/1440);return o.formatDistance("xDays",n,i)}if(u<86400)return m=Math.round(u/D),o.formatDistance("aboutXMonths",m,i);if(m=Y(d,s),m<12){const n=Math.round(u/D);return o.formatDistance("xMonths",n,i)}{const n=m%12,e=Math.trunc(m/12);return n<3?o.formatDistance("aboutXYears",e,i):n<9?o.formatDistance("overXYears",e,i):o.formatDistance("almostXYears",e+1,i)}}(n,function(n){return T(n,Date.now())}(n),e)}function Q(n){M.activeProject=n;const e=document.querySelector("#content");e.innerHTML="";const t=document.createElement("div");t.classList.add("project-container"),t.dataset.projectId=n.id;const r=document.createElement("div");r.classList.add("project-header");const o=document.createElement("h1");o.textContent=n.name;const a=document.createElement("p");a.textContent=n.description;const i=document.createElement("div");i.classList.add("sort-container"),["P","S"].forEach((n,e)=>{const t=document.createElement("button");t.classList.add(0===e?"priority-sort":"status-sort","sort","unselectable"),t.textContent=n,i.appendChild(t)}),r.append(o,i);const s=document.createElement("div");s.classList.add("task-list"),n.list.forEach(n=>{const e=document.createElement("div");e.classList.add("task-container"),e.dataset.taskId=n.id;const t=["high-priority","medium-priority","low-priority"][n.priority-1];t&&e.classList.add(t);const r=document.createElement("div");r.classList.add("task-left");const o=document.createElement("button");o.classList.add("edit-task-btn","unselectable"),o.textContent="⋮";const a=document.createElement("h1");a.classList.add("task-title"),a.textContent=n.title,"done"===n.status&&(a.style.textDecoration="line-through"),"in-progress"===n.status&&(a.style.fontStyle="italic"),a.style.fontWeight=[600,500,400][n.priority-1]||400,r.append(o,a);const i=document.createElement("div");i.classList.add("task-right");const d=document.createElement("p");if(d.classList.add("status",n.status,"unselectable"),d.textContent=n.status,n.dueDate){const e=document.createElement("p");e.classList.add("task-due-date","unselectable"),e.textContent=$(n.dueDate,{addSuffix:!0}),i.appendChild(e)}const c=document.createElement("button");c.textContent="✔",c.classList.add("task-checkbox","unselectable"),i.append(d,c),e.append(r,i),s.appendChild(e)});const d=document.createElement("form");d.classList.add("add-task-form"),d.dataset.projectId=n.id,d.innerHTML='\n    <input type="text" name="title" id="form-input" placeholder="Task title" required />\n    <input type="datetime-local" name="dueDate" />\n    <select name="priority" class="unselectable">\n      <option value="1">High</option>\n      <option value="2">Medium</option>\n      <option value="3" selected>Low</option>\n    </select>\n    <button type="submit" class="unselectable">Add Task</button>\n  ',t.append(r,a,s,d),e.appendChild(t)}function G(){const n=document.querySelector(".project-list-container");n.innerHTML="",M.projectMap.forEach(e=>{const t=document.createElement("div");t.classList.add("sidebar-project-div"),t.dataset.projectId=e.id;const r=document.createElement("div");r.classList.add("sidebar-project-header");const o=document.createElement("div");o.classList.add("sidebar-project-title"),o.textContent=e.name;const a=document.createElement("div");a.classList.add("sidebar-project-controls");const i=document.createElement("button");i.classList.add("edit-project-btn"),i.textContent="⋮";const s=document.createElement("button");s.classList.add("remove-project-btn"),s.textContent="✕",a.append(i,s),r.append(o,a);const d=document.createElement("p");d.classList.add("sidebar-project-desc"),d.textContent=e.description,t.append(r,d),n.appendChild(t)})}const _="myTaskApp";function K(){const n=Array.from(M.projectMap.values()).map(n=>n.toJSON());localStorage.setItem(_,JSON.stringify(n)),console.log("Saved to local storage.")}const Z=document.getElementById("form-modal"),nn=document.getElementById("modal-title"),en=document.getElementById("modal-form-fields"),tn=document.getElementById("modal-submit-btn"),rn=Z.querySelector(".cancel-btn");function on(n){nn.textContent=n.title,tn.textContent=n.submitText,en.innerHTML="",n.fields.forEach(n=>{const e=document.createElement("div");e.className="form-group";const t=document.createElement("label");let r;t.setAttribute("for",`modal-input-${n.name}`),t.textContent=n.label,"select"===n.type?(r=document.createElement("select"),n.options.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.textContent=e.text,e.value==n.value&&(t.selected=!0),r.appendChild(t)})):(r=document.createElement("input"),r.type=n.type,r.placeholder=n.placeholder||"",r.value=n.value||""),r.id=`modal-input-${n.name}`,r.name=n.name,r.required=!0,e.append(t,r),en.appendChild(e)});const e=document.getElementById("modal-form");e.onsubmit=null,e.onsubmit=function(e){e.preventDefault();const t={};n.fields.forEach(n=>{const e=document.getElementById(`modal-input-${n.name}`);t[n.name]=e.value}),n.onSubmit(t),an()},Z.style.display="flex";const t=e.querySelector("input, select");t&&t.focus()}function an(){Z.style.display="none"}Z.addEventListener("mousedown",n=>{n.target===Z&&an()}),Z.addEventListener("click",n=>{n.target==rn&&an()});const sn=function(){const n=localStorage.getItem(_);if(n)try{JSON.parse(n).forEach(n=>{const e=M.fromJSON(n);M.projectMap.set(e.id,e)})}catch(n){console.error("Failed to load projects from localStorage:",n)}}();if(sn&&sn.length>0&&(sn.forEach(n=>M.fromJSON(n)),!M.getActiveProject())){const n=M.projectMap.values().next().value;n&&M.setActiveProject(n.id)}if(!localStorage.getItem("hasVisited")&&0===M.projectMap.size){const n=new M("My First Project","A demo project with diverse tasks"),e=Date.now();n.addTask(new j("Buy groceries","pending",2,new Date(e+864e5))),n.addTask(new j("Finish report","in-progress",1,new Date(e+2592e5))),n.addTask(new j("Call plumber","done",3,new Date(e-1728e5))),n.addTask(new j("Read new book","pending",3)),n.addTask(new j("Workout","in-progress",2,new Date(e+216e5))),M.setActiveProject(n.id),localStorage.setItem("hasVisited","true"),K()}G(),0===M.projectMap.size?document.querySelector("#content").innerHTML="<h1>No projects yet...</h1>":M.getActiveProject()?Q(M.getActiveProject()):document.querySelector("#content").innerHTML="<h1>Select a project to see tasks</h1>",function(){const n=document.querySelector("#content"),e=document.querySelector(".project-list-container");n.addEventListener("click",n=>{const e=M.getActiveProject();if(!e)return;const t=n.target.closest(".task-container");let r;if(t&&(r=e.getTask(t.dataset.taskId)),n.target.classList.contains("edit-task-btn")&&r&&(r.dueDate&&r.dueDate.toISOString().split("T")[0],on({title:"Edit Task",submitText:"Update",fields:[{name:"title",label:"Task Title",type:"text",value:r.title},{name:"priority",label:"Priority",type:"select",value:r.priority,options:[{value:1,text:"High"},{value:2,text:"Medium"},{value:3,text:"Low"}]},{name:"dueDate",label:"Due Date & Time",type:"datetime-local",value:r.dueDate?r.dueDate.toISOString().slice(0,16):""}],onSubmit:n=>{r.update({title:n.title,priority:n.priority}),r.dueDate=n.dueDate?new Date(n.dueDate):null,Q(e),K()}})),n.target.classList.contains("task-due-date")&&r){const e=n.target;"false"!==e.dataset.showingRelative?(e.textContent=r.dueDate.toLocaleDateString(),e.dataset.showingRelative="false"):(e.textContent=$(r.dueDate,{addSuffix:!0}),e.dataset.showingRelative="true")}if(n.target.classList.contains("status")&&r){const n={pending:"in-progress","in-progress":"done",done:"pending"};r.changeStatus(n[r.status]),Q(e),K()}n.target.classList.contains("task-checkbox")&&r&&(e.removeTask(r.id),Q(e),K()),n.target.classList.contains("sort")&&(n.target.classList.contains("priority-sort")&&e.sortByPriority(),n.target.classList.contains("status-sort")&&e.sortByStatus(),Q(e),K())}),n.addEventListener("submit",n=>{if(!n.target.classList.contains("add-task-form"))return;n.preventDefault();const e=M.getActiveProject();if(!e)return;const t=n.target.dueDate?.value?new Date(n.target.dueDate.value):null;e.addTask(new j(n.target.title.value,"pending",parseInt(n.target.priority.value,10),t)),K(),Q(e),n.target.reset(),document.getElementById("form-input").focus()}),e.addEventListener("click",n=>{const e=n.target.closest(".sidebar-project-div");if(!e)return;const t=e.dataset.projectId;if(n.target.classList.contains("edit-project-btn")){const n=M.projectMap.get(t);if(!n)return;return on({title:"Edit Project",submitText:"Save Changes",fields:[{name:"name",label:"Project Name",type:"text",value:n.name},{name:"description",label:"Description",type:"text",value:n.description}],onSubmit:e=>{n.update(e.name,e.description),G(),M.getActiveProject()?.id===t&&Q(n)}}),void K()}if(n.target.classList.contains("remove-project-btn")){if(M.projectMap.delete(t),M.getActiveProject()?.id===t){const n=M.projectMap.values().next().value||null;M.setActiveProject(n?n.id:null)}K(),G();const n=M.getActiveProject(),e=document.querySelector("#content");return void(n?Q(n):e.innerHTML="<h1>No projects yet...</h1>")}M.setActiveProject(t),G(),Q(M.getActiveProject())})}(),document.querySelector(".new-project-btn").addEventListener("click",()=>{on({title:"Create New Project",submitText:"Create",fields:[{name:"name",label:"Project Name",type:"text",placeholder:"Enter project name"},{name:"description",label:"Description",type:"text",placeholder:"Enter project description"}],onSubmit:n=>{if(!n.name.trim())return;const e=new M(n.name,n.description);M.setActiveProject(e.id),G(),Q(e),K()}})})})();